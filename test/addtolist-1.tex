\usepackage{pdfpages}
\usepackage[
  bookmarksopen, bookmarksopenlevel=5,
  colorlinks, linkcolor=blue,
]{hyperref}

\begin{document}
\START\showoutput

\TEST{Addtolist: LOF, LOT}{
  \Large
  \listoffigures
  \listoftables

  \section{References}
  \begin{tabular}{@{}lll@{}}\hline
    ref & pageref & nameref\\\hline
    \ref{fig:pdf1} & \pageref{fig:pdf1} & \nameref{fig:pdf1}\\
    \ref{fig:pdf2} & \pageref{fig:pdf2} & \nameref{fig:pdf2}\\
    \ref{fig:pdf3} & \pageref{fig:pdf3} & \nameref{fig:pdf3}\\\hline
    \ref{tab:pdf1} & \pageref{tab:pdf1} & \nameref{tab:pdf1}\\
    \ref{tab:pdf2} & \pageref{tab:pdf2} & \nameref{tab:pdf2}\\
    \ref{tab:pdf3} & \pageref{tab:pdf3} & \nameref{tab:pdf3}\\\hline
    \ref{fig:x1} & \pageref{fig:x1} & \nameref{fig:x1}\\
    \ref{fig:x2} & \pageref{fig:x2} & \nameref{fig:x2}\\
    \ref{fig:x3} & \pageref{fig:x3} & \nameref{fig:x3}\\\hline
    \ref{tab:x1} & \pageref{tab:x1} & \nameref{tab:x1}\\
    \ref{tab:x2} & \pageref{tab:x2} & \nameref{tab:x2}\\
    \ref{tab:x3} & \pageref{tab:x3} & \nameref{tab:x3}\\\hline
  \end{tabular}

  \includepdf[
    pages=1-5,
    addtolist={
      1, figure, {fig, doc1, page 1},        fig:pdf1,
      3, figure, {fig, doc1, \emph{page 3}}, fig:pdf2,
      5, figure, {fig, doc1, page 5},        fig:pdf3},
  ]{dummy.pdf}

  \includepdf[
    pages=1-5,
    addtolist={
      1, table, {tab, doc2, page 1},          tab:pdf1,
      3, table, {tab, doc2, \textbf{page 3}}, tab:pdf2,
      5, table, {tab, doc2, page 5},          tab:pdf3},
  ]{dummy.pdf}

  \includepdf[
    pages=1-5,
    addtolist={
      1, figure, {fig, doc3, page 1}, fig:x1,
      1, table,  {tab, doc3, page 1}, tab:x1,
      3, figure, {fig, doc3, page 3}, fig:x2,
      3, table,  {tab, doc3, page 3}, tab:x2,
      5, figure, {fig, doc3, page 5}, fig:x3,
      5, table,  {tab, doc3, page 5}, tab:x3},
  ]{dummy.pdf}
}

%\END % Don't use \END here since we need to generate LOF and LOT.
\end{document}
