\usepackage{pdfpages}
\usepackage{listings}
\usepackage[
  bookmarksopen, bookmarksopenlevel=5,
  colorlinks, linkcolor=blue,
]{hyperref}

\begin{document}
\START\showoutput

\TEST{Addtolist (listings)}{
  \Large

  \section{Package listings.sty}
  \lstlistoflistings
  \bigskip
  \begin{tabular}{@{}lll@{}}\hline
    ref & pageref & nameref\\\hline
    \ref{lst:x1} & \pageref{lst:x1} & \nameref{lst:x1}\\
    \ref{lst:x2} & \pageref{lst:x2} & \nameref{lst:x2}\\
    \ref{lst:x3} & \pageref{lst:x3} & \nameref{lst:x3}\\\hline
  \end{tabular}
  \newpage

  \includepdf[
    pages=1-5,
    addtolist={
      1, lstlisting, {Listing, page 1}, lst:x1,
      3, lstlisting, {Listing, page 3}, lst:x2,
      5, lstlisting, {Listing, page 5}, lst:x3},
  ]{dummy.pdf}

}

%\END
\end{document}
